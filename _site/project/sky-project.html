<!doctype html>

<html class="no-js" lang="en">

<head>


	<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

	Maxwell

	Journal Theme by https://jekyllthemes.io
	Premium + free Jekyll themes for your blog or website.

	- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<!-- Page Info -->
	<link rel="shortcut icon" href="">
	<title>Sky – Maxwell</title>
	<meta name="description" content="<p>This was a three-semester (one full year) project involving a peer of mine (Zoe Harrington) and three advisors (Peter
Drake, Jessica Kleiss, and Erin Riley) that culminated in a <a href="https://github.com/PeterDrake/sky">project on
github</a> and a <a href="/images/projects/sky/thesis.pdf">senior honors thesis</a> for Zoe and I.</p>

">

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Sky – Maxwell">
	<meta name="twitter:description" content="<p>This was a three-semester (one full year) project involving a peer of mine (Zoe Harrington) and three advisors (Peter
Drake, Jessica Kleiss, and Erin Riley) that culminated in a <a href="https://github.com/PeterDrake/sky">project on
github</a> and a <a href="/images/projects/sky/thesis.pdf">senior honors thesis</a> for Zoe and I.</p>

">
	<meta name="twitter:image:src" content="/images/photos/cloud.jpg">

	<!-- Facebook OpenGraph -->
	<meta property="og:title" content="Sky – Maxwell" />
	<meta property="og:description" content="<p>This was a three-semester (one full year) project involving a peer of mine (Zoe Harrington) and three advisors (Peter
Drake, Jessica Kleiss, and Erin Riley) that culminated in a <a href="https://github.com/PeterDrake/sky">project on
github</a> and a <a href="/images/projects/sky/thesis.pdf">senior honors thesis</a> for Zoe and I.</p>

" />
	<meta property="og:image" content="/images/photos/cloud.jpg" />

	
	<!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Merriweather:300,400|Muli:400,400i,600" rel="stylesheet">
	

	<!-- Styles -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/css/style.css">
	
	<!-- Icons -->
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/solid.js" integrity="sha384-GXi56ipjsBwAe6v5X4xSrVNXGOmpdJYZEEh/0/GqJ3JTHsfDsF8v0YQvZCJYAiGu" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/brands.js" integrity="sha384-0inRy4HkP0hJ038ZyfQ4vLl+F4POKbqnaUB6ewmU4dWP0ki8Q27A0VFiVRIpscvL" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/fontawesome.js" integrity="sha384-NY6PHjYLP2f+gL3uaVfqUZImmw71ArL9+Roi9o+I4+RBqArA2CfW1sJ1wkABFfPe" crossorigin="anonymous"></script>

	
	<!-- Custom Styles -->
	<style></style>
	

	
	<!-- Analytics Code -->
	
	

	
	<!-- Extra Header JS Code -->
	
	
	
</head>


<body class="loading ajax-loading" data-site-url="" data-page-url="/project/sky-project">


	<header class="header">

	<div class="header-image header-image--on" style="background-image: url(/images/photos/cloud.jpg);"></div>
	<div class="header-image"></div>

	<div class="header-overlay"></div>

	<div class="header__content">

		
		<a href="/" class="header__title">
			Maxwell
		</a>
		

		<p class="header__tagline">Web developer, machine learning enthusiast, and recent graduate.</p>

		<div class="menu">
			<div class="menu__toggle js-menu-toggle">
				<div class="menu__toggle__icon"><span></span></div>
			</div>
			<div class="menu__wrap">
				<ul class="menu__list">
					
					<li class="menu__list__item">
						<a href="/projects/" class="menu__list__item__link">Projects</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/photos" class="menu__list__item__link">Photos</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/blog/" class="menu__list__item__link">Blog</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/contact" class="menu__list__item__link">Contact</a>
					</li>
					
				</ul>
				<ul class="socials">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://github.com/maxwellevin" target="_blank" class="socials__item__link" title="Github">
			<i class="fab fa-github" aria-hidden="true"></i>
		</a>
	</li>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://www.linkedin.com/in/maxwelllevin/" target="_blank" class="socials__item__link" title="Linkedin">
			<i class="fab fa-linkedin" aria-hidden="true"></i>
		</a>
	</li>
	
	
	
	<li class="socials__item">
		<a href="https://500px.com/maxwellevin" target="_blank" class="socials__item__link" title="500px">
			<i class="fab fa-500px" aria-hidden="true"></i>
		</a>
	</li>
	
	
</ul>
			</div>
		</div>

	</div>

</header>


	<div class="loader"><svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle></svg></div>

	<div class="page-loader"></div>

	
	<div class="page">

		<div class="page__content" data-page-title="Sky – Maxwell" data-image="/images/photos/cloud.jpg">

			<section class="intro">

	<div class="wrap">

		<h1>Sky</h1>
		<p>All-sky image segmentation with a convolutional neural network</p>

	</div>

</section>

<section class="single">

	<div class="wrap">

		<p>This was a three-semester (one full year) project involving a peer of mine (Zoe Harrington) and three advisors (Peter
Drake, Jessica Kleiss, and Erin Riley) that culminated in a <a href="https://github.com/PeterDrake/sky">project on
github</a> and a <a href="/images/projects/sky/thesis.pdf">senior honors thesis</a> for Zoe and I.</p>

<h2 id="about">About</h2>
<p>Clouds are pretty, interesting, and play an important role in our global climate system. In addition, clouds are the 
largest source of uncertainty in climate model projections (Boucher et al. 2013). Our work takes aim at one area of 
uncertainty regarding clouds; visual image detection of clouds. By training a convolutional neural network to 
semantically segment whole-sky images of clouds we are able to extract information about the percentage of clouds in 
the observable sky, a statistic useful in weather forecasting, climate model development, and solar energy forecasting.</p>

<h3 id="data">Data</h3>
<p>There are already instruments/systems in place to segment photos of the sky with a decent level of accuracy. One such 
instrument, the <strong>total sky imager (TSI)</strong>, is relatively cheap and is widely used around the world for this purpose.</p>

<p><img src="/images/projects/sky/data.png" alt="" /></p>

<p>We use over one hundred thousand images from the TSI. Previous research by one of our advisors (Erin Riley) allows us
to split this data into two parts: typical data and dubious data. Simply put, typical data are TSI sky/decision image 
pairs for which the TSI’s segmentation matches the sky image, and dubious data is the opposite (It’s more nuanced than this of 
course).</p>

<h2 id="our-work">Our Work</h2>
<p>We built a pipeline to prepare TSI data downloaded from <a href="https://www.archive.arm.gov/discovery/#v/results/s/fsite::sgp.P/ffac::sgp.C1/fdpl::sgptsicldmaskC1.a1/fdpl::sgptsiskyimageC1.a1">ARM.gov</a>
for training, pass it through the network, and analyze the output to get a measure of the fractional sky cover.</p>

<h3 id="network-design">Network Design</h3>

<p><img src="/images/projects/sky/network_diagram.png" alt="" /></p>

<h3 id="training">Training</h3>
<p>Training data is a subset of the typical data. Sky images are the inputs and decision images are the outputs. Another
subset of the typical data is used for validation of the network’s accuracy.</p>

<p><img src="/images/projects/sky/learning.png" alt="" /></p>

<h3 id="results">Results</h3>
<p>Our network does moderately well matching the TSI outputs, but we need an automated way of knowing if it does better or 
worse. For this we rely on the <strong>cloud fraction (CF)</strong> from an on-site laser ceilometer. We assume FSC and CF are similar
enough to use for validation (Again, it is more nuanced than this).</p>

<p><img src="/images/projects/sky/scatter.png" alt="" /></p>

<p>What we observe is that for typical data, our network and the TSI produce decision images that report a FSC value 
similar to the CF value. For dubious data, the FSC and CF are not as similar, but our network’s FSC is in better
agreement with the CF. If our assumptions are valid, this indicates our network performs better than the TSI for dubious
data, and perhaps overall.</p>

<p><img src="/images/projects/sky/barchart.png" alt="" /></p>

<p>Our network’s performance is slightly undermined by noise that is not present in the original sky image or TSI decision
image. This noise appears in almost every decision image produced by the network. Our best guess is that the noise is
due to the two skinny max pooling layers. Removing these layers causes the network to poorly approximate the black 
sunband, so this is a cost we must bear for now.</p>

<p>In the following image we see improved performance detecting thin clouds compared to the TSI but a significant amount
of noise. (Black pixels are non-sky pixels, and are ignored in the computation of FSC).</p>

<p><img src="/images/projects/sky/outputs.png" alt="" /></p>



	</div>

</section>

		</div>

	</div>


	<footer class="footer">

	<div class="footer__copyright">
		<span>© 2019 Maxwell</span>
<!--		<a href="https://jekyllthemes.io" target="_blank">Jekyll Themes</a>-->
	</div>

</footer>


	<!-- Javascript Assets -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="/js/journal-min.js"></script>

	
	<!-- Extra Footer JS Code -->
	
	


</body>

</html>